<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1 性能优化方式 | 前端面试指南</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/FE-Interview-Questions/logo.png">
    <link rel="manifest" href="/FE-Interview-Questions/manifest.json">
    <link rel="apple-touch-icon" href="/FE-Interview-Questions/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/FE-Interview-Questions/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="web前端面试题总结，面试指南，前端面试题整理，web面试宝典，刷题神器，按模块分类整理总结，打造最全面的前端面试题">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/FE-Interview-Questions/assets/css/0.styles.0ee07640.css" as="style"><link rel="preload" href="/FE-Interview-Questions/assets/js/app.5b0296f4.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/5.54128a88.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/4.924c336f.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/67.b6ba1abe.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/11.c47f490e.js" as="script"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/1.90e7df67.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/10.5db78da8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/100.6be15009.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/101.ec6f97e9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/102.1d0e3f6c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/103.8a400a2f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/104.c2af40a0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/105.9d45b2ad.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/106.a5953110.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/107.2cdc1d0c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/108.f72ef188.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/109.9ab823e2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/110.e49e44ae.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/111.0ec30d94.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/112.c8da816a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/113.ee402893.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/114.9f128630.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/115.d344e0f4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/116.9bc78b90.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/117.0f494592.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/118.4402da94.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/119.385b9da3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/12.318ed79e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/120.80485e73.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/121.20c04561.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/122.9e9b4186.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/123.6d625c22.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/124.df1ffbb0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/125.c20cebf1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/126.e7d162e6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/127.2113ec3c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/128.17e3dd45.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/129.cb7bf30c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/13.259df5d8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/130.c4eb894c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/131.601f1d4c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/132.389d6f51.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/133.030027fd.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/134.7164776c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/135.3e02013a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/136.b9a6075b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/137.5e02b957.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/138.92042a06.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/139.3eda71bf.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/14.afd9a131.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/140.7ebb637e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/141.73ce8c26.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/142.b810c57c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/143.386db62a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/144.bfc06dd4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/145.7211c74f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/146.6f8991de.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/147.6f81aba5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/148.00720691.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/149.a367e0dc.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/15.4e38b6b8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/150.497bce3a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/151.1e455fc0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/152.cf2fbe51.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/16.31f416a7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/17.02a2cdb7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/18.549d1d85.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/19.1709b72e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/20.1ea0cee3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/21.7d69f186.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/22.7e55e689.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/23.dc998e23.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/24.83f308cc.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/25.e1cb2fe8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/26.7898394e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/27.884963f8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/28.a7725268.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/29.38005ae6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/3.52f4d649.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/30.63d9b698.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/31.beacf8c4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/32.d72cc0a0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/33.bc12bdab.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/34.2d725141.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/35.1a1db2a7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/36.fae67df8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/37.984e5c96.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/38.cab4518d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/39.27b1bc0a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/40.12c88b79.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/41.81bc4856.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/42.bae90031.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/43.65cffc22.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/44.c7c91016.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/45.ad7fc545.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/46.c67d3f8a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/47.e2a85c12.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/48.f7fd6d5c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/49.85e7e274.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/50.8064c586.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/51.ed90ba8e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/52.44c0fd39.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/53.69df0f27.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/54.4bafc515.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/55.e2e5fb05.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/56.7b4840e8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/57.ee65606b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/58.67abf0a1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/59.aefd88b1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/6.939c39c3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/60.29aa8be2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/61.0747679c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/62.f876d5d0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/63.b7853e79.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/64.937ffbfc.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/65.b4033739.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/66.a461df62.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/68.e468b9d4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/69.4993c691.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/7.2054cc2d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/70.a650039c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/71.d393fd0a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/72.53f1da47.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/73.9fb71812.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/74.1475cabc.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/75.e9441386.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/76.1a9d7b7a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/77.c0365951.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/78.2f94625b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/79.612d23e4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/8.3743db64.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/80.e8545d55.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/81.08a63406.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/82.c2999f4d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/83.dba0bec9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/84.0e1ea98d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/85.51694d9e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/86.e3fe147e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/87.621fe82e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/88.b4c6aaf2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/89.49f0c60f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/9.02e8aff0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/90.c30afc34.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/91.8994f578.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/92.13ed4f7c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/93.bdcc10b6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/94.d001f83c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/95.e9a3d123.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/96.50d87f66.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/97.82daafa6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/98.183d249c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/99.b6d528fb.js">
    <link rel="stylesheet" href="/FE-Interview-Questions/assets/css/0.styles.0ee07640.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/FE-Interview-Questions/" class="home-link router-link-active"><img src="/FE-Interview-Questions/logo.png" alt="前端面试指南" class="logo"> <span class="site-name can-hide">前端面试指南</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----> <span class="login-btn"><i class="el-tooltip el-icon-user-solid item">登录</i></span></div></header> <div class="login-modal"><div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="微信扫码登录" class="el-dialog el-dialog--center" style="margin-top:15vh;width:32%;"><div class="el-dialog__header"><span class="el-dialog__title">微信扫码登录</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><!----></div></div></div></div> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>精选模块</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-Interview-Questions/excellent-docs/1-HTML模块.html" class="sidebar-link">1 HTML模块</a></li><li><a href="/FE-Interview-Questions/excellent-docs/2-CSS模块.html" class="sidebar-link">2 CSS模块</a></li><li><a href="/FE-Interview-Questions/excellent-docs/3-JS模块.html" class="sidebar-link">3 JS模块</a></li><li><a href="/FE-Interview-Questions/excellent-docs/4-ES6模块.html" class="sidebar-link">4 ES6模块</a></li><li><a href="/FE-Interview-Questions/excellent-docs/5-浏览器模块.html" class="sidebar-link">5 浏览器模块</a></li><li><a href="/FE-Interview-Questions/excellent-docs/6-React.html" class="sidebar-link">6 React模块</a></li><li><a href="/FE-Interview-Questions/excellent-docs/7-Vue.html" class="sidebar-link">7 Vue模块</a></li><li><a href="/FE-Interview-Questions/excellent-docs/8-Node模块.html" class="sidebar-link">8 Node模块</a></li><li><a href="/FE-Interview-Questions/excellent-docs/9-前端工程模块.html" class="sidebar-link">9 前端工程相关</a></li><li><a href="/FE-Interview-Questions/excellent-docs/10-移动多端开发.html" class="sidebar-link">10 移动多端开发</a></li><li><a href="/FE-Interview-Questions/excellent-docs/11-小程序模块.html" class="sidebar-link">11 小程序模块</a></li><li><a href="/FE-Interview-Questions/excellent-docs/12-前端安全模块.html" class="sidebar-link">12 前端安全模块</a></li><li><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html" class="active sidebar-link">13 性能优化相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_1-性能优化方式" class="sidebar-link">1 性能优化方式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_1-1-dns-预解析" class="sidebar-link">1.1 DNS 预解析</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_1-2-缓存" class="sidebar-link">1.2 缓存</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_1-3-使用-http-2-0" class="sidebar-link">1.3 使用 HTTP / 2.0</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_1-4-预加载" class="sidebar-link">1.4 预加载</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_1-5-预渲染" class="sidebar-link">1.5 预渲染</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_1-6-懒执行与懒加载" class="sidebar-link">1.6 懒执行与懒加载</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_1-7-文件优化" class="sidebar-link">1.7 文件优化</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_1-8-其他" class="sidebar-link">1.8 其他</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_2-首屏渲染优化" class="sidebar-link">2 首屏渲染优化</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_3-页面基础优化" class="sidebar-link">3 页面基础优化</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_4-性能优化方向" class="sidebar-link">4 性能优化方向</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_4-1-工程化方向" class="sidebar-link">4.1 工程化方向</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_4-2-细节方向" class="sidebar-link">4.2 细节方向</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_5-长列表优化" class="sidebar-link">5 长列表优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#vue-virtual-scroll-list优化长列表" class="sidebar-link">vue-virtual-scroll-list优化长列表</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#object-freeze优化长列表" class="sidebar-link">Object.freeze优化长列表</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_6-卡顿问题解决" class="sidebar-link">6 卡顿问题解决</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_7-编码优化" class="sidebar-link">7 编码优化</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_8-如何根据chrome的timing优化" class="sidebar-link">8 如何根据chrome的timing优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_8-1-性能优化api" class="sidebar-link">8.1 性能优化API</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_8-2-检测工具" class="sidebar-link">8.2 检测工具</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_8-3-前端指标" class="sidebar-link">8.3 前端指标</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_9-vue性能优化" class="sidebar-link">9 Vue性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_9-1-vue首屏加载优化有哪些方案么" class="sidebar-link">9.1 vue首屏加载优化有哪些方案么</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_9-2-编码阶段" class="sidebar-link">9.2 编码阶段</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_9-3-用户体验" class="sidebar-link">9.3 用户体验：</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_9-4-seo优化" class="sidebar-link">9.4 SEO优化</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_9-5-打包优化" class="sidebar-link">9.5 打包优化</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_10-vue1-x-vue2-x-vue3-框架分析性能" class="sidebar-link">10 vue1.X，vue2.X，vue3 框架分析性能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_10-1-vue1-x-特点-响应式" class="sidebar-link">10.1 Vue1.x （特点：响应式）</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_10-2-vue2-x-特点-组件级响应式-组件内部vdom-diff" class="sidebar-link">10.2 Vue2.x （特点：组件级响应式，组件内部vdom diff）</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/excellent-docs/13-性能优化模块.html#_10-3-vue3-特点-proxy做响应式-静态标记、按需更新" class="sidebar-link">10.3 Vue3 （特点：proxy做响应式：静态标记、按需更新）</a></li></ul></li></ul></li><li><a href="/FE-Interview-Questions/excellent-docs/14-HTTP模块.html" class="sidebar-link">14 HTTP模块</a></li><li><a href="/FE-Interview-Questions/excellent-docs/15-设计模式.html" class="sidebar-link">15 常用设计模式</a></li><li><a href="/FE-Interview-Questions/excellent-docs/16-框架通识.html" class="sidebar-link">16 框架通识</a></li><li><a href="/FE-Interview-Questions/excellent-docs/17-排序算法.html" class="sidebar-link">17 排序算法</a></li><li><a href="/FE-Interview-Questions/excellent-docs/18-计算机通识.html" class="sidebar-link">18 计算机通识</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>🔥高频模块</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-Interview-Questions/excellent-docs/高频模块.html" class="sidebar-link">1、高频考点</a></li><li><a href="/FE-Interview-Questions/excellent-docs/面试指南.html" class="sidebar-link">2、面试指南</a></li><li><a href="/FE-Interview-Questions/excellent-docs/性能优化.html" class="sidebar-link">3、性能优化</a></li></ul></section></li></ul> </aside> <main class="page"> <div id="container" class="theme-default-content lock"><div class="content__default"><h2 id="_1-性能优化方式"><a href="#_1-性能优化方式" class="header-anchor">#</a> 1 性能优化方式</h2> <h3 id="_1-1-dns-预解析"><a href="#_1-1-dns-预解析" class="header-anchor">#</a> 1.1 DNS 预解析</h3> <ul><li><code>DNS</code> 解析也是需要时间的，可以通过预解析的方式来预先获得域名所对应的 <code>IP</code></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//blog.poetries.top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_1-2-缓存"><a href="#_1-2-缓存" class="header-anchor">#</a> 1.2 缓存</h3> <ul><li>缓存对于前端性能优化来说是个很重要的点，良好的缓存策略可以降低资源的重复加载提高网页的整体加载速度</li> <li>通常浏览器缓存策略分为两种：强缓存和协商缓存</li></ul> <p><strong>强缓存</strong></p> <blockquote><p>实现强缓存可以通过两种响应头实现：<code>Expires</code>和 <code>Cache-Control</code> 。强缓存表示在缓存期间不需要请求，<code>state code</code>为 <code>200</code></p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>Expires: Wed, 22 Oct 2018 08:41:00 GMT
</code></pre></div><blockquote><p><code>Expires</code> 是 <code>HTTP / 1.0</code> 的产物，表示资源会在 <code>Wed, 22 Oct 2018 08:41:00 GMT</code> 后过期，需要再次请求。并且 <code>Expires</code> 受限于本地时间，如果修改了本地时间，可能会造成缓存失效</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>Cache-control: max-age=30
</code></pre></div><blockquote><p><code>Cache-Control</code> 出现于 <code>HTTP / 1.1</code>，优先级高于 <code>Expires</code> 。该属性表示资源会在 <code>30</code> 秒后过期，需要再次请求</p></blockquote> <p><strong>协商缓存</strong></p> <ul><li>如果缓存过期了，我们就可以使用协商缓存来解决问题。协商缓存需要请求，如果缓存有效会返回 304</li> <li>协商缓存需要客户端和服务端共同实现，和强缓存一样，也有两种实现方式</li></ul> <p><code>Last-Modified</code> 和 <code>If-Modified-Since</code></p> <ul><li><code>Last-Modified</code> 表示本地文件最后修改日期，<code>If-Modified-Since</code> 会将 <code>Last-Modified</code>的值发送给服务器，询问服务器在该日期后资源是否有更新，有更新的话就会将新的资源发送回来</li> <li>但是如果在本地打开缓存文件，就会造成 <code>Last-Modified</code> 被修改，所以在 <code>HTTP / 1.1</code> 出现了 <code>ETag</code></li></ul> <p><code>ETag</code> 和 <code>If-None-Match</code></p> <ul><li><code>ETag</code> 类似于文件指纹，<code>If-None-Match</code> 会将当前 <code>ETag</code> 发送给服务器，询问该资源 ETag 是否变动，有变动的话就将新的资源发送回来。并且 <code>ETag</code> 优先级比 <code>Last-Modified</code> 高</li></ul> <p><strong>选择合适的缓存策略</strong></p> <blockquote><p>对于大部分的场景都可以使用强缓存配合协商缓存解决，但是在一些特殊的地方可能需要选择特殊的缓存策略</p></blockquote> <ul><li>对于某些不需要缓存的资源，可以使用 <code>Cache-control: no-store</code> ，表示该资源不需要缓存</li> <li>对于频繁变动的资源，可以使用 <code>Cache-Control: no-cache</code> 并配合 <code>ETag</code> 使用，表示该资源已被缓存，但是每次都会发送请求询问资源是否更新。</li> <li>对于代码文件来说，通常使用 <code>Cache-Control: max-age=31536000</code> 并配合策略缓存使用，然后对文件进行指纹处理，一旦文件名变动就会立刻下载新的文件</li></ul> <h3 id="_1-3-使用-http-2-0"><a href="#_1-3-使用-http-2-0" class="header-anchor">#</a> 1.3 使用 HTTP / 2.0</h3> <ul><li>因为浏览器会有并发请求限制，在 <code>HTTP / 1.1</code> 时代，每个请求都需要建立和断开，消耗了好几个 <code>RTT</code> 时间，并且由于 <code>TCP</code> 慢启动的原因，加载体积大的文件会需要更多的时间</li> <li>在 <code>HTTP / 2.0</code> 中引入了多路复用，能够让多个请求使用同一个 <code>TCP</code> 链接，极大的加快了网页的加载速度。并且还支持 <code>Header</code> 压缩，进一步的减少了请求的数据大小</li></ul> <h3 id="_1-4-预加载"><a href="#_1-4-预加载" class="header-anchor">#</a> 1.4 预加载</h3> <ul><li>在开发中，可能会遇到这样的情况。有些资源不需要马上用到，但是希望尽早获取，这时候就可以使用预加载</li> <li>预加载其实是声明式的 <code>fetch</code> ，强制浏览器请求资源，并且不会阻塞 <code>onload</code> 事件，可以使用以下代码开启预加载</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://example.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>预加载可以一定程度上降低首屏的加载时间，因为可以将一些不影响首屏但重要的文件延后加载，唯一缺点就是兼容性不好</p></blockquote> <h3 id="_1-5-预渲染"><a href="#_1-5-预渲染" class="header-anchor">#</a> 1.5 预渲染</h3> <blockquote><p>可以通过预渲染将下载的文件预先在后台渲染，可以使用以下代码开启预渲染</p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prerender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://poetries.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>预渲染虽然可以提高页面的加载速度，但是要确保该页面百分百会被用户在之后打开，否则就白白浪费资源去渲染</li></ul> <h3 id="_1-6-懒执行与懒加载"><a href="#_1-6-懒执行与懒加载" class="header-anchor">#</a> 1.6 懒执行与懒加载</h3> <p><strong>懒执行</strong></p> <ul><li>懒执行就是将某些逻辑延迟到使用时再计算。该技术可以用于首屏优化，对于某些耗时逻辑并不需要在首屏就使用的，就可以使用懒执行。懒执行需要唤醒，一般可以通过定时器或者事件的调用来唤醒</li></ul> <p><strong>懒加载</strong></p> <ul><li>懒加载就是将不关键的资源延后加载</li></ul> <blockquote><p>懒加载的原理就是只加载自定义区域（通常是可视区域，但也可以是即将进入可视区域）内需要加载的东西。对于图片来说，先设置图片标签的 <code>src</code> 属性为一张占位图，将真实的图片资源放入一个自定义属性中，当进入自定义区域时，就将自定义属性替换为 <code>src</code> 属性，这样图片就会去下载资源，实现了图片懒加载</p></blockquote> <ul><li>懒加载不仅可以用于图片，也可以使用在别的资源上。比如进入可视区域才开始播放视频等</li></ul> <h3 id="_1-7-文件优化"><a href="#_1-7-文件优化" class="header-anchor">#</a> 1.7 文件优化</h3> <p><strong>图片优化</strong></p> <blockquote><p>对于如何优化图片，有 2 个思路</p></blockquote> <ul><li>减少像素点</li> <li>减少每个像素点能够显示的颜色</li></ul> <p><strong>图片加载优化</strong></p> <ul><li>不用图片。很多时候会使用到很多修饰类图片，其实这类修饰图片完全可以用 <code>CSS</code> 去代替。</li> <li>对于移动端来说，屏幕宽度就那么点，完全没有必要去加载原图浪费带宽。一般图片都用 CDN 加载，可以计算出适配屏幕的宽度，然后去请求相应裁剪好的图片</li> <li>小图使用 <code>base64</code>格式</li> <li>将多个图标文件整合到一张图片中（雪碧图）</li> <li>选择正确的图片格式：
<ul><li>对于能够显示 <code>WebP</code> 格式的浏览器尽量使用 <code>WebP</code> 格式。因为 <code>WebP</code> 格式具有更好的图像数据压缩算法，能带来更小的图片体积，而且拥有肉眼识别无差异的图像质量，缺点就是兼容性并不好</li> <li>小图使用 <code>PNG</code>，其实对于大部分图标这类图片，完全可以使用 <code>SVG</code> 代替</li> <li>照片使用 <code>JPEG</code></li></ul></li></ul> <p><strong>其他文件优化</strong></p> <ul><li><code>CSS</code>文件放在 <code>head</code> 中</li> <li>服务端开启文件压缩功能</li> <li>将 <code>script</code> 标签放在 <code>body</code> 底部，因为 <code>JS</code> 文件执行会阻塞渲染。当然也可以把 <code>script</code> 标签放在任意位置然后加上 <code>defer</code> ，表示该文件会并行下载，但是会放到 <code>HTML</code> 解析完成后顺序执行。对于没有任何依赖的 <code>JS</code>文件可以加上 <code>async</code> ，表示加载和渲染后续文档元素的过程将和 <code>JS</code> 文件的加载与执行并行无序进行。
执行 <code>JS</code>代码过长会卡住渲染，对于需要很多时间计算的代码</li> <li>可以考虑使用 <code>Webworker</code>。<code>Webworker</code>可以让我们另开一个线程执行脚本而不影响渲染。</li></ul> <p><strong>CDN</strong></p> <blockquote><p>静态资源尽量使用 <code>CDN</code> 加载，由于浏览器对于单个域名有并发请求上限，可以考虑使用多个 <code>CDN</code> 域名。对于 <code>CDN</code> 加载静态资源需要注意 <code>CDN</code> 域名要与主站不同，否则每次请求都会带上主站的 <code>Cookie</code></p></blockquote> <h3 id="_1-8-其他"><a href="#_1-8-其他" class="header-anchor">#</a> 1.8 其他</h3> <p><strong>使用 Webpack 优化项目</strong></p> <ul><li>对于 <code>Webpack4</code>，打包项目使用 <code>production</code> 模式，这样会自动开启代码压缩</li> <li>使用 <code>ES6</code> 模块来开启 <code>tree shaking</code>，这个技术可以移除没有使用的代码</li> <li>优化图片，对于小图可以使用 <code>base64</code> 的方式写入文件中</li> <li>按照路由拆分代码，实现按需加载</li> <li>给打包出来的文件名添加哈希，实现浏览器缓存文件</li></ul> <p><strong>监控</strong></p> <blockquote><p>对于代码运行错误，通常的办法是使用 <code>window.onerror</code> 拦截报错。该方法能拦截到大部分的详细报错信息，但是也有例外</p></blockquote> <ul><li>对于跨域的代码运行错误会显示 <code>Script error</code>. 对于这种情况我们需要给 <code>script</code> 标签添加 <code>crossorigin</code> 属性</li> <li>对于某些浏览器可能不会显示调用栈信息，这种情况可以通过 <code>arguments.callee.caller</code> 来做栈递归</li> <li>对于异步代码来说，可以使用 <code>catch</code> 的方式捕获错误。比如 <code>Promise</code> 可以直接使用 catch 函数，<code>async await</code> 可以使用 <code>try catch</code></li> <li>但是要注意线上运行的代码都是压缩过的，需要在打包时生成 <code>sourceMap</code> 文件便于 <code>debug</code>。</li> <li>对于捕获的错误需要上传给服务器，通常可以通过 <code>img</code> 标签的 <code>src</code>发起一个请求</li></ul> <h2 id="_2-首屏渲染优化"><a href="#_2-首屏渲染优化" class="header-anchor">#</a> 2 首屏渲染优化</h2> <ul><li>css / js 分割，使首屏依赖的文件体积最小，内联首屏关键 css / js；</li> <li>非关键性的文件尽可能的 异步加载和懒加载，避免阻塞首页渲染；</li> <li>使用dns-prefetch / preconnect / prefetch / preload等浏览器提供的资源提示，加快文件传输；</li> <li>谨慎控制好 Web字体，一个大字体包足够让你功亏一篑
<ul><li>控制字体包的加载时机；</li> <li>如果使用的字体有限，那尽可能只将使用的文字单独打包，能有效减少体积；
合理利用 Localstorage / server-worker 等存储方式进行 数据与资源缓存</li></ul></li> <li><strong>分清轻重缓急</strong> <ul><li>重要的元素优先渲染；</li> <li>视窗内的元素优先渲染</li></ul></li> <li><strong>服务端渲染(SSR)</strong>:
<ul><li>减少首屏需要的数据量，剔除冗余数据和请求；</li> <li>控制好缓存，对数据/页面进行合理的缓存；</li> <li>页面的请求使用流的形式进行传递；</li></ul></li> <li><strong>优化用户感知</strong> <ul><li>利用一些动画 过渡效果，能有效减少用户对卡顿的感知；</li> <li>尽可能利用 骨架屏(Placeholder) / Loading 等减少用户对白屏的感知；</li> <li>动画帧数尽量保证在 30帧 以上，低帧数、卡顿的动画宁愿不要；</li> <li>js 执行时间避免超过 100ms，超过的话就需要做
<ul><li>寻找可 缓存 的点</li> <li>任务的 分割异步 或 web worker 执行</li></ul></li></ul></li></ul> <p><strong>移动端的性能优化</strong></p> <ol><li>首屏加载和按需加载，懒加载</li> <li>资源预加载</li> <li>图片压缩处理，使用<code>base64</code>内嵌图片</li> <li>合理缓存dom对象</li> <li>使用<code>touchstart</code>代替<code>click</code>（<code>click 300</code>毫秒的延迟）</li> <li>利用<code>transform:translateZ(0)</code>，开启硬件GUP加速</li> <li>不滥用web字体，不滥用<code>float</code>（布局计算消耗性能），减少<code>font-size</code>声明</li> <li>使用<code>viewport</code>固定屏幕渲染，加速页面渲染内容</li> <li>尽量使用事件代理，避免直接事件绑定</li></ol> <h2 id="_3-页面基础优化"><a href="#_3-页面基础优化" class="header-anchor">#</a> 3 页面基础优化</h2> <ul><li>引入位置: css 文件<code>&lt;head&gt;</code>中引入， js 文件<code>&lt;body&gt;</code>底部引入
<ul><li>影响首屏的，优先级很高的 js 也可以头部引入，甚至内联</li></ul></li> <li><strong>减少请求</strong> (http 1.0 - 1.1)，合并请求，正确设置 http 缓存</li> <li><strong>减少文件体积</strong> <ul><li><strong>删除多余代码:</strong> <ul><li>tree-shaking</li> <li>UglifyJs</li> <li>code-spliting</li></ul></li> <li>混淆 / 压缩代码，开启 gzip 压缩；</li> <li>多份编译文件按条件引入
<ul><li>针对现代浏览器直接给 ES6 文件，只针对低端浏览器引用编译后的 ES5 文件</li> <li>可以利用<code>&lt;script type=&quot;module&quot;&gt; / &lt;script type=&quot;module&quot;&gt;</code>进行条件引入用</li></ul></li> <li>动态 <code>polyfill</code>，只针对不支持的浏览器引入 <code>polyfill；</code></li></ul></li> <li>图片优化:
<ul><li>根据业务场景，与UI探讨选择 合适质量，合适尺寸；</li> <li>根据需求和平台，选择 合适格式，例如非透明时可用 jpg；非苹果端，使用 webp；</li> <li>小图片合成 雪碧图，低于 5K 的图片可以转换成 base64 内嵌</li> <li>合适场景下，使用 <code>iconfont</code> 或者 <code>svg</code>；</li></ul></li> <li><strong>使用缓存</strong> <ul><li><strong>浏览器缓存</strong>: 通过设置请求的过期时间，合理运用浏览器缓存；</li> <li><strong>CDN缓存</strong>: 静态文件合理使用 CDN 缓存技术
<ul><li>HTML 放于自己的服务器上；</li> <li>打包后的图片 / js / css 等资源上传到 CDN 上，文件带上 hash 值；</li> <li>由于浏览器对单个域名请求的限制，可以将资源放在多个不同域的 CDN 上，可以绕开该限制；</li></ul></li> <li><strong>服务器缓存</strong>: 将不变的数据、页面缓存到 内存 或 远程存储(redis等) 上</li> <li><strong>数据缓存</strong>: 通过各种存储将不常变的数据进行缓存，缩短数据的获取时间</li></ul></li></ul> <h2 id="_4-性能优化方向"><a href="#_4-性能优化方向" class="header-anchor">#</a> 4 性能优化方向</h2> <blockquote><p>前端性能优化分为两个方向，一是工程化方向，另一个是细节方向</p></blockquote> <h3 id="_4-1-工程化方向"><a href="#_4-1-工程化方向" class="header-anchor">#</a> 4.1 工程化方向</h3> <ul><li>客户端Gzip离线包，服务器资源Gzip压缩。</li> <li>JS瘦身，<code>Tree shaking</code>，<code>ES Module</code>，动态<code>Import</code>，动态<code>Polyfill</code></li> <li>图片加载优化，<code>Webp</code>，考虑兼容性，可以提前加载一张图片，嗅探是否支持<code>Webp</code></li> <li>服务端渲染，客户端预渲染</li> <li>CDN静态资源</li> <li><code>Webpack Dll</code>，通用优先打包抽离，利用浏览器缓存</li> <li>骨架图</li> <li>数据预取，包括接口数据，和加载详情页图片</li> <li>Webpack本身提供的优化，Base64，资源压缩，Tree shaking，拆包chunk</li> <li>减少重定向</li></ul> <h3 id="_4-2-细节方向"><a href="#_4-2-细节方向" class="header-anchor">#</a> 4.2 细节方向</h3> <ul><li>图片，图片占位，图片懒加载。 雪碧图</li> <li>使用 <code>prefetch / preload</code> 预加载等新特性
<ul><li><code>Preload</code> 来告诉浏览器预先请求当前页需要的资源，从而提高这些资源的请求优先级。比如，对于那些本来请求优先级较低的关键请求，我们可以通过设置 <code>Preload</code> 来提升这些请求的优先级</li> <li><code>Prefetch</code> 来告诉浏览器用户将来可能在其他页面（非本页面）可能使用到的资源，那么浏览器会在空闲时，就去预先加载这些资源放在 <code>http</code> 缓存内，最常见的 <code>dns-prefetch</code>。比如，当我们在浏览A页面，如果会通过A页面中的链接跳转到B页面，而B页面中我们有些资源希望尽早提前加载，那么我们就可以在A页面里添加这些资源 <code>Prefetch</code> ，那么当浏览器空闲时，就会去加载这些资源</li> <li>所以，对于那些可能在当前页面使用到的资源可以利用 <code>Preload</code>，而对一些可能在将来的某些页面中被使用的资源可以利用 <code>Prefetch</code>。如果从加载优先级上看，<code>Preload</code> 会提升请求优先级；而<code>Prefetch</code>会把资源的优先级放在最低，当浏览器空闲时才去预加载</li></ul></li> <li>服务器合理设置缓存策略</li> <li><code>async</code>（加载完当前js立即执行）/ <code>defer</code>(所有资源加载完之后执行js)</li> <li>减少Dom的操作，减少重排重绘</li> <li>从客户端层面，首屏减少和客户端交互，合并接口请求</li> <li>数据缓存</li> <li>首页不加载不可视组件</li> <li>防止渲染抖动，控制时序</li> <li>减少组件层级</li> <li>优先使用Flex布局</li></ul> <h2 id="_5-长列表优化"><a href="#_5-长列表优化" class="header-anchor">#</a> 5 长列表优化</h2> <h3 id="vue-virtual-scroll-list优化长列表"><a href="#vue-virtual-scroll-list优化长列表" class="header-anchor">#</a> vue-virtual-scroll-list优化长列表</h3> <blockquote><p>虚拟列表的实现原理：只渲染可视区的 dom 节点，其余不可见的数据卷起来，只会渲染可视区域的 dom 节点，提高渲染性能及流畅性，优点是支持海量数据的渲染；</p></blockquote> <p>github地址：https://github.com/tangbc/vue-virtual-scroll-list</p> <h3 id="object-freeze优化长列表"><a href="#object-freeze优化长列表" class="header-anchor">#</a> Object.freeze优化长列表</h3> <ul><li><code>Object.freeze()</code>方法可以冻结一个对象。一个被冻结的对象再也不能被修改；冻结了一个对象则不能向这个对象添加新的属性，不能删除已有属性，不能修改该对象已有属性的可枚举性、可配置性、可写性，以及不能修改已有属性的值。</li> <li>对于<code>data()</code>或vuex中冻结的对象，vue不会做<code>getter</code>和<code>setter</code>的转换。因此对于一个不变的、大数据量的数组或Object数据来说，使用<code>Object.freeze()</code>可以有效地提升性能。</li></ul> <h2 id="_6-卡顿问题解决"><a href="#_6-卡顿问题解决" class="header-anchor">#</a> 6 卡顿问题解决</h2> <ul><li>CSS动画效率比JS高，<code>css</code>可以用<code>GPU</code>加速，<code>3d</code>加速。如果非要用JS动画，可以用<code>requestAnimationFrame</code></li> <li>批量进行DOM操作，固定图片容器大小，避免屏幕抖动</li> <li>减少重绘重排</li> <li>节流和防抖</li> <li>减少临时大对象产生，利用对象缓存，主要是减少内存碎片</li> <li>异步操作，<code>IntersectionObserver</code>，<code>PostMessage</code>，<code>RequestIdleCallback</code></li></ul> <h2 id="_7-编码优化"><a href="#_7-编码优化" class="header-anchor">#</a> 7 编码优化</h2> <blockquote><p>编码优化，指的就是 在代码编写时的，通过一些 最佳实践，提升代码的执行性能。通常这并不会带来非常大的收益，但这属于 程序猿的自我修养，而且这也是面试中经常被问到的一个方面，考察自我管理与细节的处理。</p></blockquote> <p><strong>数据读取:</strong></p> <ul><li>通过作用域链 / 原型链 读取变量或方法时，需要更多的耗时，且越长越慢</li> <li>对象嵌套越深，读取值也越慢；</li> <li>最佳实践
<ul><li>尽量在局部作用域中进行 变量缓存；</li> <li>避免嵌套过深的数据结构，数据扁平化 有利于数据的读取和维护</li></ul></li></ul> <p><strong>循环</strong>: 循环通常是编码性能的关键点；</p> <ul><li>代码的性能问题会再循环中被指数倍放大</li> <li>最佳实践
<ul><li>尽可能 减少循环次数
<ul><li>减少遍历的数据量；</li> <li>完成目的后马上结束循环</li></ul></li> <li>避免在循环中执行大量的运算，避免重复计算，相同的执行结果应该使用缓存；</li> <li>js 中使用 倒序循环 会略微提升性能；</li> <li>尽量避免使用 for-in 循环，因为它会枚举原型对象，耗时大于普通循环；</li></ul></li></ul> <p><strong>条件流程性能</strong>: Map / Object &gt; switch &gt; if-else</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用 if-else</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment">// 使用 switch</span>
<span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span><span class="token number">4</span>
	<span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用 Map</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
	<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 使用 Objext</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token number">3</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>减少 cookie 体积</strong>: 能有效减少每次请求的体积和响应时间；</p> <ul><li>去除不必要的 <code>cookie</code>；</li> <li>压缩 <code>cookie</code> 大小；</li> <li>设置 <code>domain</code> 与 过期时间；</li></ul> <p><strong>dom 优化:</strong></p> <ul><li>减少访问 dom 的次数，如需多次，将 dom 缓存于变量中；</li> <li>减少重绘与回流:
<ul><li>多次操作合并为一次；</li> <li>减少对计算属性的访问
<ul><li>例如 offsetTop， getComputedStyle 等</li> <li>因为浏览器需要获取最新准确的值，因此必须立即进行重排，这样会破坏了浏览器的队列整合，尽量将值进行缓存使用；</li></ul></li> <li>大量操作时，可将 dom 脱离文档流或者隐藏，待操作完成后再重新恢复；</li> <li>使用DocumentFragment / cloneNode / replaceChild进行操作；</li></ul></li> <li>使用事件委托，避免大量的事件绑定；</li></ul> <p><strong>css 优化:</strong></p> <ul><li>层级扁平，避免过于多层级的选择器嵌套；</li> <li>特定的选择器 好过一层一层查找:  <code>.xxx-child-text{}</code> - 优于 <code>.xxx .child .text{}</code></li> <li>减少使用通配符与属性选择器；</li> <li>减少不必要的多余属性；</li> <li>使用 动画属性实现动画，动画时脱离文档流，开启硬件加速，优先使用 css 动画；</li> <li>使用 <code>&lt;link&gt;</code> 替代原生 <code>@import</code>；</li></ul> <p><strong>html 优化:</strong></p> <ul><li>减少 dom 数量，避免不必要的节点或嵌套</li> <li>避免<code>&lt;img src=&quot;&quot; /&gt;</code>空标签，能减少服务器压力，因为 src 为空时，浏览器仍然会发起请求
<ul><li>IE 向页面所在的目录发送请求；</li> <li>Safari、Chrome、Firefox 向页面本身发送请求；</li> <li>Opera 不执行任何操作。</li></ul></li> <li>图片提前 指定宽高 或者 脱离文档流，能有效减少因图片加载导致的页面回流；</li> <li>语义化标签 有利于 SEO 与浏览器的解析时间；</li> <li>减少使用 table 进行布局，避免使用<code>&lt;br /&gt;</code>与<code>&lt;hr /&gt;</code></li></ul> <h2 id="_8-如何根据chrome的timing优化"><a href="#_8-如何根据chrome的timing优化" class="header-anchor">#</a> 8 如何根据chrome的timing优化</h2> <h3 id="_8-1-性能优化api"><a href="#_8-1-性能优化api" class="header-anchor">#</a> 8.1 性能优化API</h3> <ul><li><code>Performance</code>。<code>performance.now()</code>与<code>new Date()</code>区别，它是高精度的，且是相对时间，相对于页面加载的那一刻。但是不一定适合单页面场景</li> <li><code>window.addEventListener(&quot;load&quot;, &quot;&quot;);</code> <code>window.addEventListener(&quot;domContentLoaded&quot;, &quot;&quot;);</code></li> <li><code>Img</code>的<code>onload</code>事件，监听首屏内的图片是否加载完成，判断首屏事件</li> <li><code>RequestFrameAnmation</code> 和 <code>RequestIdleCallback</code></li> <li><code>IntersectionObserver</code>、<code>MutationObserver</code>，<code>PostMessage</code></li> <li><code>Web Worker</code>，耗时任务放在里面执行</li></ul> <h3 id="_8-2-检测工具"><a href="#_8-2-检测工具" class="header-anchor">#</a> 8.2 检测工具</h3> <ul><li><code>Chrome Dev Tools</code></li> <li><code>Page Speed</code></li> <li><code>Jspref</code></li></ul> <h3 id="_8-3-前端指标"><a href="#_8-3-前端指标" class="header-anchor">#</a> 8.3 前端指标</h3> <p><img src="http://img-repo.poetries.top/images/image-20210307184052955.png" alt="image-20210307184052955"></p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> t <span class="token operator">=</span> performance<span class="token punctuation">.</span>timing
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DNS查询耗时 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>domainLookupEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>domainLookupStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'TCP链接耗时 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>connectEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>connectStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'request请求耗时 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>responseEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>responseStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'解析dom树耗时 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>domComplete <span class="token operator">-</span> t<span class="token punctuation">.</span>domInteractive<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'白屏时间 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>responseStart <span class="token operator">-</span> t<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'domready时间 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>domContentLoadedEventEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'onload时间 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>loadEventEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>t <span class="token operator">=</span> performance<span class="token punctuation">.</span>memory<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'js内存使用占比 ：'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>usedJSHeapSize <span class="token operator">/</span> t<span class="token punctuation">.</span>totalJSHeapSize <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'%'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>DNS预解析优化</strong></p> <blockquote><p>dns解析是很耗时的，因此如果解析域名过多，会让首屏加载变得过慢，可以考虑dns-prefetch优化</p></blockquote> <p><code>DNS Prefetch</code> 应该尽量的放在网页的前面，推荐放在 后面。具体使用方法如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>x-dns-prefetch-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>on<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//www.zhix.net<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//api.share.zhix.net<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//bdimg.share.zhix.net<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>request请求耗时</strong></p> <ul><li>不请求，用cache（最好的方式就是尽量引用公共资源，同时设置缓存，不去重新请求资源，也可以运用PWA的离线缓存技术，可以帮助wep实现离线使用）</li> <li>前端打包时压缩</li> <li>服务器上的zip压缩</li> <li>图片压缩（比如tiny），使用webp等高压缩比格式</li> <li>把过大的包，拆分成多个较少的包，防止单个资源耗时过大</li> <li>同一时间针对同一域名下的请求有一定数量限制，超过限制数目的请求会被阻塞。如果资源来自于多个域下，可以增大并行请求和下载速度</li> <li>延迟、异步、预加载、懒加载</li> <li>对于非首屏的资源，可以使用 defer 或 async 的方式引入</li> <li>也可以按需加载，在逻辑中，只有执行到时才做请求</li> <li>对于多屏页面，滚动时才动态载入图片</li></ul> <p><strong>解析dom树耗时</strong></p> <h2 id="_9-vue性能优化"><a href="#_9-vue性能优化" class="header-anchor">#</a> 9 Vue性能优化</h2> <h3 id="_9-1-vue首屏加载优化有哪些方案么"><a href="#_9-1-vue首屏加载优化有哪些方案么" class="header-anchor">#</a> 9.1 vue首屏加载优化有哪些方案么</h3> <ul><li><code>Vue-Router</code>路由懒加载（利用<code>Webpack</code>的代码切割）</li> <li>使用<code>CDN</code>加速，将通用的库从<code>vendor</code>进行抽离</li> <li><code>Nginx</code>的<code>gzip</code>压缩</li> <li><code>Vue</code>异步组件</li> <li>服务端渲染<code>SSR</code></li> <li>如果使用了一些<code>UI</code>库，采用按需加载</li> <li><code>Webpack</code>开启<code>gzip</code>压缩</li> <li><code>Service Worker</code>缓存文件处理</li> <li>使用<code>link</code>标签的<code>rel</code>属性设置   <code>prefetch</code>（这段资源将会在未来某个导航或者功能要用到，但是本资源的下载顺序权重比较低，<code>prefetch</code>通常用于加速下一次导航）、<code>preload</code>（<code>preload</code>将会把资源得下载顺序权重提高，使得关键数据提前下载好，优化页面打开速度）</li></ul> <h3 id="_9-2-编码阶段"><a href="#_9-2-编码阶段" class="header-anchor">#</a> 9.2 编码阶段</h3> <ul><li>尽量减少data中的数据，data中的数据都会增加getter和setter，会收集对应的watcher；</li> <li>如果需要使用v-for给每项元素绑定事件时使用事件代理；</li> <li>SPA 页面采用keep-alive缓存组件；</li> <li>在更多的情况下，使用v-if替代v-show；</li> <li>key保证唯一；</li> <li>使用路由懒加载、异步组件；</li> <li>防抖、节流；</li> <li>第三方模块按需导入；</li> <li>长列表滚动到可视区域动态加载；</li> <li>图片懒加载；</li></ul> <h3 id="_9-3-用户体验"><a href="#_9-3-用户体验" class="header-anchor">#</a> 9.3 用户体验：</h3> <ul><li>骨架屏；</li> <li>PWA；</li> <li>还可以使用缓存(客户端缓存、服务端缓存)优化、服务端开启<code>gzip</code>压缩等。</li></ul> <h3 id="_9-4-seo优化"><a href="#_9-4-seo优化" class="header-anchor">#</a> 9.4 SEO优化</h3> <ul><li>预渲染；</li> <li>服务端渲染SSR；</li></ul> <h3 id="_9-5-打包优化"><a href="#_9-5-打包优化" class="header-anchor">#</a> 9.5 打包优化</h3> <ul><li>压缩代码；</li> <li><code>Tree Shaking/Scope Hoisting</code>；
<ul><li><code>scope hoisting</code> 是 <code>webpack3</code> 的新功能，直译过来就是「作用域提升」。熟悉 JavaScript 都应该知道「函数提升」和「变量提升」，JavaScript 会把函数和变量声明提升到当前作用域的顶部。「作用域提升」也类似于此，webpack 会把引入的 js 文件“提升到”它的引入者顶部</li></ul></li> <li>使用cdn加载第三方模块；</li> <li>多线程打包<code>happypack</code>；</li> <li><code>splitChunks</code>抽离公共文件；</li> <li><code>sourceMap</code>优化；</li></ul> <h2 id="_10-vue1-x-vue2-x-vue3-框架分析性能"><a href="#_10-vue1-x-vue2-x-vue3-框架分析性能" class="header-anchor">#</a> 10 vue1.X，vue2.X，vue3 框架分析性能</h2> <h3 id="_10-1-vue1-x-特点-响应式"><a href="#_10-1-vue1-x-特点-响应式" class="header-anchor">#</a> 10.1 Vue1.x （特点：响应式）</h3> <blockquote><p>没有vdom，完全的响应式，每个数据变化，都通过响应式通知机制来新建Watcher干活，项目规模变大后，过多的Watcher，会导致性能的瓶颈。</p></blockquote> <p><img src="http://img-repo.poetries.top/images/image-20210307183730134.png" alt="image-20210307183730134"></p> <h3 id="_10-2-vue2-x-特点-组件级响应式-组件内部vdom-diff"><a href="#_10-2-vue2-x-特点-组件级响应式-组件内部vdom-diff" class="header-anchor">#</a> 10.2 Vue2.x （特点：组件级响应式，组件内部vdom diff）</h3> <blockquote><p>引入<code>vdom</code>，控制了颗粒度，组件层面走<code>watcher</code>通知， 组件内部走<code>vdom</code>做<code>diff</code>，既不会有太多watcher，也不会让vdom的规模过大，diff超过16ms，真是优秀。</p></blockquote> <p><img src="http://img-repo.poetries.top/images/image-20210307183810844.png" alt="image-20210307183810844"></p> <h3 id="_10-3-vue3-特点-proxy做响应式-静态标记、按需更新"><a href="#_10-3-vue3-特点-proxy做响应式-静态标记、按需更新" class="header-anchor">#</a> 10.3 Vue3 （特点：proxy做响应式：静态标记、按需更新）</h3> <blockquote><p>先说结论，静态标记，upadte性能提升1.3~2倍，ssr提升2~3倍。</p></blockquote> <p>Vue3通过<code>Proxy响应式+组件内部vdom+静态标记</code>，把任务颗粒度控制的足够细致，所以也不太需要<code>time-slice</code>了。</p> <p><img src="http://img-repo.poetries.top/images/image-20210307183845241.png" alt="image-20210307183845241"></p></div> <!----> <div class="readMore-wrapper"><span class="readMore">阅读全文</span></div></div> <div class="right-bar"><div class="item"><span class="title">前端进阶公众号</span> <span class="desc">每天分享前端干货文章</span> <img width="100%" alt="公众号「前端进阶之旅」" src="http://img-repo.poetries.top/images/20211001080240.png"></div> <!----></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/FE-Interview-Questions/excellent-docs/12-前端安全模块.html" class="prev">12 前端安全模块</a></span> <span class="next"><a href="/FE-Interview-Questions/excellent-docs/14-HTTP模块.html">14 HTTP模块</a>
      →
    </span></p></div>  <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="注册会员账号" class="el-dialog el-dialog--center" style="margin-top:15vh;width:32%;"><div class="el-dialog__header"><span class="el-dialog__title">注册会员账号</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><div class="el-dialog__footer"><span class="dialog-footer"><!----> <!----> <button type="button" class="el-button el-button--danger" style="width:100%;"><!----><!----><span>我已完成支付？下一步，去注册</span></button></span></div></div></div> <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="微信扫码登录" class="el-dialog el-dialog--center" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title">微信扫码登录</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><!----></div></div> <img src="data:image/png;base64,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" class="theme-float-btn"> <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="站点迁移通知" class="el-dialog el-dialog--center" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title">站点迁移通知</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><!----></div></div></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/FE-Interview-Questions/assets/js/app.5b0296f4.js" defer></script><script src="/FE-Interview-Questions/assets/js/5.54128a88.js" defer></script><script src="/FE-Interview-Questions/assets/js/4.924c336f.js" defer></script><script src="/FE-Interview-Questions/assets/js/67.b6ba1abe.js" defer></script><script src="/FE-Interview-Questions/assets/js/11.c47f490e.js" defer></script>
  </body>
</html>
